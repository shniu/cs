---
description: 关于数据库设计
---

# 数据库架构设计



#### 缓存和数据库的数据一致性问题

需要分场景来分析

* 只有一个主库的情况

在 Master 库的基础上，增加一层缓存，此时可以从几个方面来分析：读、写、并发读、并发写、并发读写（顺序不确定）

**Case1 单库单缓存 读 请求**

![&#x8BFB;&#x8BF7;&#x6C42;](../../.gitbook/assets/image%20%2811%29.png)

**Case2 单库单缓存 写 请求（假设没有并发）**

针对写的场景就稍微复杂一点了，暂时先不考虑并发写和并发读写的情况



* 数据库主从的情况

